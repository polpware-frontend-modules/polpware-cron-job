import { DayOfWeekEnum, MonthEnum } from '@polpware/fe-utilities';
export var ScheduleTypeEnum;
(function (ScheduleTypeEnum) {
    ScheduleTypeEnum[ScheduleTypeEnum["OneTime"] = 1] = "OneTime";
    ScheduleTypeEnum[ScheduleTypeEnum["Recurrent"] = 2] = "Recurrent";
})(ScheduleTypeEnum || (ScheduleTypeEnum = {}));
export function getDefaultScheduleTime() {
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    return {
        isRecurrent: false,
        recurrence: 0,
        holidays: '',
        excludeWeekends: false,
        otherDays: '',
        customExpr: '',
        startDate: tomorrow,
        endDate: null,
        time: today,
        monthOfYear: MonthEnum.January,
        dayOfMonth: 1,
        dayOfWeek: DayOfWeekEnum.Monday
    };
}
export function isEqualString(left, right) {
    if (!left && !right) {
        return true;
    }
    return left == right;
}
export function isEqualDate(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    return left.getFullYear() == right.getFullYear() &&
        left.getMonth() == right.getMonth() &&
        left.getDate() == right.getDate();
}
export function isEqualTime(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    return left.getHours() == right.getHours() &&
        left.getMinutes() == right.getMinutes();
}
export function isEqualBool(left, right) {
    if (!left && !right) {
        return true;
    }
    return left === right;
}
export function isEqualScheduleTime(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    if (left.isRecurrent && right.isRecurrent) {
        if (!isEqualString(left.customExpr, right.customExpr)) {
            return false;
        }
        if (!isEqualString(left.holidays, right.holidays)) {
            return false;
        }
        if (!isEqualBool(left.excludeWeekends, right.excludeWeekends)) {
            return false;
        }
        if (!isEqualString(left.otherDays, right.otherDays)) {
            return false;
        }
        if (!isEqualDate(left.endDate, right.endDate) || !isEqualTime(left.endDate, right.endDate)) {
            return false;
        }
        return true;
    }
    if (!left.isRecurrent && !right.isRecurrent) {
        if (!isEqualDate(left.startDate, right.startDate) || !isEqualTime(left.time, right.time)) {
            return false;
        }
        return true;
    }
    return false;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0Bwb2xwd2FyZS9jcm9uLWpvYi8iLCJzb3VyY2VzIjpbImxpYi9pbnRlcmZhY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQWdCLFNBQVMsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRWhGLE1BQU0sQ0FBTixJQUFZLGdCQUdYO0FBSEQsV0FBWSxnQkFBZ0I7SUFDeEIsNkRBQVcsQ0FBQTtJQUNYLGlFQUFhLENBQUE7QUFDakIsQ0FBQyxFQUhXLGdCQUFnQixLQUFoQixnQkFBZ0IsUUFHM0I7QUFpQkQsTUFBTSxVQUFVLHNCQUFzQjtJQUNsQyxNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFBO0lBQ3hCLE1BQU0sUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ2hDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFBO0lBRXhDLE9BQU87UUFDSCxXQUFXLEVBQUUsS0FBSztRQUNsQixVQUFVLEVBQUUsQ0FBQztRQUNiLFFBQVEsRUFBRSxFQUFFO1FBQ1osZUFBZSxFQUFFLEtBQUs7UUFDdEIsU0FBUyxFQUFFLEVBQUU7UUFDYixVQUFVLEVBQUUsRUFBRTtRQUNkLFNBQVMsRUFBRSxRQUFRO1FBQ25CLE9BQU8sRUFBRSxJQUFJO1FBQ2IsSUFBSSxFQUFFLEtBQUs7UUFDWCxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU87UUFDOUIsVUFBVSxFQUFFLENBQUM7UUFDYixTQUFTLEVBQUUsYUFBYSxDQUFDLE1BQU07S0FDbEMsQ0FBQztBQUNOLENBQUM7QUFFRCxNQUFNLFVBQVUsYUFBYSxDQUFDLElBQVksRUFBRSxLQUFhO0lBQ3JELElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDakIsT0FBTyxJQUFJLENBQUM7S0FDZjtJQUNELE9BQU8sSUFB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QUFDLEVBQUU7WUFDdEYsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxPQUFPLElBQUksQ0FBQztLQUNmO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERheU9mV2Vla0VudW0sIEludGVydmFsRW51bSwgTW9udGhFbnVtIH0gZnJvbSAnQHBvbHB3YXJlL2ZlLXV0aWxpdGllcyc7XHJcblxyXG5leHBvcnQgZW51bSBTY2hlZHVsZVR5cGVFbnVtIHtcclxuICAgIE9uZVRpbWUgPSAxLFxyXG4gICAgUmVjdXJyZW50ID0gMlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElTY2hlZHVsZVRpbWUge1xyXG4gICAgaXNSZWN1cnJlbnQ6IGJvb2xlYW47XHJcbiAgICByZWN1cnJlbmNlPzogSW50ZXJ2YWxFbnVtO1xyXG4gICAgaG9saWRheXM/OiBzdHJpbmc7XHJcbiAgICBleGNsdWRlV2Vla2VuZHM/OiBib29sZWFuO1xyXG4gICAgb3RoZXJEYXlzPzogc3RyaW5nO1xyXG4gICAgY3VzdG9tRXhwcj86IHN0cmluZztcclxuICAgIHN0YXJ0RGF0ZT86IERhdGU7XHJcbiAgICBlbmREYXRlPzogRGF0ZTtcclxuICAgIHRpbWU/OiBEYXRlO1xyXG4gICAgbW9udGhPZlllYXI/OiBudW1iZXI7XHJcbiAgICBkYXlPZk1vbnRoPzogbnVtYmVyO1xyXG4gICAgZGF5T2ZXZWVrPzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGVmYXVsdFNjaGVkdWxlVGltZSgpOiBJU2NoZWR1bGVUaW1lIHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxyXG4gICAgY29uc3QgdG9tb3Jyb3cgPSBuZXcgRGF0ZSh0b2RheSlcclxuICAgIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGlzUmVjdXJyZW50OiBmYWxzZSxcclxuICAgICAgICByZWN1cnJlbmNlOiAwLFxyXG4gICAgICAgIGhvbGlkYXlzOiAnJyxcclxuICAgICAgICBleGNsdWRlV2Vla2VuZHM6IGZhbHNlLFxyXG4gICAgICAgIG90aGVyRGF5czogJycsXHJcbiAgICAgICAgY3VzdG9tRXhwcjogJycsXHJcbiAgICAgICAgc3RhcnREYXRlOiB0b21vcnJvdyxcclxuICAgICAgICBlbmREYXRlOiBudWxsLFxyXG4gICAgICAgIHRpbWU6IHRvZGF5LFxyXG4gICAgICAgIG1vbnRoT2ZZZWFyOiBNb250aEVudW0uSmFudWFyeSxcclxuICAgICAgICBkYXlPZk1vbnRoOiAxLFxyXG4gICAgICAgIGRheU9mV2VlazogRGF5T2ZXZWVrRW51bS5Nb25kYXlcclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsU3RyaW5nKGxlZnQ6IHN0cmluZywgcmlnaHQ6IHN0cmluZykge1xyXG4gICAgaWYgKCFsZWZ0ICYmICFyaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnQgPT0gcmlnaHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0VxdWFsRGF0ZShsZWZ0OiBEYXRlLCByaWdodDogRGF0ZSkge1xyXG4gICAgaWYgKCFsZWZ0ICYmICFyaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFsZWZ0IHx8ICFyaWdodCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGVmdC5nZXRGdWxsWWVhcigpID09IHJpZ2h0LmdldEZ1bGxZZWFyKCkgJiZcclxuICAgICAgICBsZWZ0LmdldE1vbnRoKCkgPT0gcmlnaHQuZ2V0TW9udGgoKSAmJlxyXG4gICAgICAgIGxlZnQuZ2V0RGF0ZSgpID09IHJpZ2h0LmdldERhdGUoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxUaW1lKGxlZnQ6IERhdGUsIHJpZ2h0OiBEYXRlKSB7XHJcbiAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWxlZnQgfHwgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWZ0LmdldEhvdXJzKCkgPT0gcmlnaHQuZ2V0SG91cnMoKSAmJlxyXG4gICAgICAgIGxlZnQuZ2V0TWludXRlcygpID09IHJpZ2h0LmdldE1pbnV0ZXMoKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxCb29sKGxlZnQ6IGJvb2xlYW4sIHJpZ2h0OiBib29sZWFuKSB7XHJcbiAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxTY2hlZHVsZVRpbWUobGVmdDogSVNjaGVkdWxlVGltZSwgcmlnaHQ6IElTY2hlZHVsZVRpbWUpIHtcclxuICAgIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWxlZnQgfHwgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChsZWZ0LmlzUmVjdXJyZW50ICYmIHJpZ2h0LmlzUmVjdXJyZW50KSB7XHJcbiAgICAgICAgaWYgKCFpc0VxdWFsU3RyaW5nKGxlZnQuY3VzdG9tRXhwciwgcmlnaHQuY3VzdG9tRXhwcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc0VxdWFsU3RyaW5nKGxlZnQuaG9saWRheXMsIHJpZ2h0LmhvbGlkYXlzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzRXF1YWxCb29sKGxlZnQuZXhjbHVkZVdlZWtlbmRzLCByaWdodC5leGNsdWRlV2Vla2VuZHMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNFcXVhbFN0cmluZyhsZWZ0Lm90aGVyRGF5cywgcmlnaHQub3RoZXJEYXlzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzRXF1YWxEYXRlKGxlZnQuZW5kRGF0ZSwgcmlnaHQuZW5kRGF0ZSkgfHwgIWlzRXF1YWxUaW1lKGxlZnQuZW5kRGF0ZSwgcmlnaHQuZW5kRGF0ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFsZWZ0LmlzUmVjdXJyZW50ICYmICFyaWdodC5pc1JlY3VycmVudCkge1xyXG4gICAgICAgIGlmICghaXNFcXVhbERhdGUobGVmdC5zdGFydERhdGUsIHJpZ2h0LnN0YXJ0RGF0ZSkgfHwgIWlzRXF1YWxUaW1lKGxlZnQudGltZSwgcmlnaHQudGltZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbiJdfQ==