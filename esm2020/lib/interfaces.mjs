import { DayOfWeekEnum, MonthEnum } from '@polpware/fe-utilities';
export var ScheduleTypeEnum;
(function (ScheduleTypeEnum) {
    ScheduleTypeEnum[ScheduleTypeEnum["OneTime"] = 1] = "OneTime";
    ScheduleTypeEnum[ScheduleTypeEnum["Recurrent"] = 2] = "Recurrent";
    ScheduleTypeEnum[ScheduleTypeEnum["Asap"] = 3] = "Asap";
})(ScheduleTypeEnum || (ScheduleTypeEnum = {}));
export function getDefaultScheduleTime(startFromToday = false) {
    const today = new Date();
    let tomorrow = new Date(today.getTime() + (24 * 60 * 60 * 1000));
    if (startFromToday) {
        tomorrow = new Date(today.getTime() + (60 * 60 * 1000));
    }
    return {
        isRecurrent: false,
        recurrence: 0,
        holidays: '',
        excludeWeekends: false,
        otherDays: '',
        customExpr: '',
        startDate: tomorrow,
        endDate: null,
        time: tomorrow,
        monthOfYear: MonthEnum.January,
        dayOfMonth: 1,
        dayOfWeek: DayOfWeekEnum.Monday
    };
}
export function isEqualString(left, right) {
    if (!left && !right) {
        return true;
    }
    return left == right;
}
export function isEqualDate(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    return left.getFullYear() == right.getFullYear() &&
        left.getMonth() == right.getMonth() &&
        left.getDate() == right.getDate();
}
export function isEqualTime(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    return left.getHours() == right.getHours() &&
        left.getMinutes() == right.getMinutes();
}
export function isEqualBool(left, right) {
    if (!left && !right) {
        return true;
    }
    return left === right;
}
export function isEqualScheduleTime(left, right) {
    if (!left && !right) {
        return true;
    }
    if (!left || !right) {
        return false;
    }
    if (left.isRecurrent && right.isRecurrent) {
        if (!isEqualString(left.customExpr, right.customExpr)) {
            return false;
        }
        if (!isEqualString(left.holidays, right.holidays)) {
            return false;
        }
        if (!isEqualBool(left.excludeWeekends, right.excludeWeekends)) {
            return false;
        }
        if (!isEqualString(left.otherDays, right.otherDays)) {
            return false;
        }
        if (!isEqualDate(left.endDate, right.endDate) || !isEqualTime(left.endDate, right.endDate)) {
            return false;
        }
        return true;
    }
    if (!left.isRecurrent && !right.isRecurrent) {
        if (!isEqualDate(left.startDate, right.startDate) || !isEqualTime(left.time, right.time)) {
            return false;
        }
        return true;
    }
    return false;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50ZXJmYWNlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3BvbHB3YXJlL2Nyb24tam9iL3NyYy9saWIvaW50ZXJmYWNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFnQixTQUFTLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUVoRixNQUFNLENBQU4sSUFBWSxnQkFJWDtBQUpELFdBQVksZ0JBQWdCO0lBQ3hCLDZEQUFXLENBQUE7SUFDWCxpRUFBYSxDQUFBO0lBQ2IsdURBQVEsQ0FBQTtBQUNaLENBQUMsRUFKVyxnQkFBZ0IsS0FBaEIsZ0JBQWdCLFFBSTNCO0FBaUJELE1BQU0sVUFBVSxzQkFBc0IsQ0FBQyxjQUFjLEdBQUcsS0FBSztJQUN6RCxNQUFNLEtBQUssR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQ3pCLElBQUksUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakUsSUFBSSxjQUFjLEVBQUU7UUFDaEIsUUFBUSxHQUFHLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztLQUMzRDtJQUVELE9BQU87UUFDSCxXQUFXLEVBQUUsS0FBSztRQUNsQixVQUFVLEVBQUUsQ0FBQztRQUNiLFFBQVEsRUFBRSxFQUFFO1FBQ1osZUFBZSxFQUFFLEtBQUs7UUFDdEIsU0FBUyxFQUFFLEVBQUU7UUFDYixVQUFVLEVBQUUsRUFBRTtRQUNkLFNBQVMsRUFBRSxRQUFRO1FBQ25CLE9BQU8sRUFBRSxJQUFJO1FBQ2IsSUFBSSxFQUFFLFFBQVE7UUFDZCxXQUFXLEVBQUUsU0FBUyxDQUFDLE9BQU87UUFDOUIsVUFB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O0lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFO1FBQ3pDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEYsT0FBTyxLQUFLLENBQUM7U0FDaEI7UUFFRCxPQUFPLElBQUksQ0FBQztLQUNmO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERheU9mV2Vla0VudW0sIEludGVydmFsRW51bSwgTW9udGhFbnVtIH0gZnJvbSAnQHBvbHB3YXJlL2ZlLXV0aWxpdGllcyc7XHJcblxyXG5leHBvcnQgZW51bSBTY2hlZHVsZVR5cGVFbnVtIHtcclxuICAgIE9uZVRpbWUgPSAxLFxyXG4gICAgUmVjdXJyZW50ID0gMixcclxuICAgIEFzYXAgPSAzXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNjaGVkdWxlVGltZSB7XHJcbiAgICBpc1JlY3VycmVudDogYm9vbGVhbjtcclxuICAgIHJlY3VycmVuY2U/OiBJbnRlcnZhbEVudW07XHJcbiAgICBob2xpZGF5cz86IHN0cmluZztcclxuICAgIGV4Y2x1ZGVXZWVrZW5kcz86IGJvb2xlYW47XHJcbiAgICBvdGhlckRheXM/OiBzdHJpbmc7XHJcbiAgICBjdXN0b21FeHByPzogc3RyaW5nO1xyXG4gICAgc3RhcnREYXRlPzogRGF0ZTtcclxuICAgIGVuZERhdGU/OiBEYXRlO1xyXG4gICAgdGltZT86IERhdGU7XHJcbiAgICBtb250aE9mWWVhcj86IG51bWJlcjtcclxuICAgIGRheU9mTW9udGg/OiBudW1iZXI7XHJcbiAgICBkYXlPZldlZWs/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0U2NoZWR1bGVUaW1lKHN0YXJ0RnJvbVRvZGF5ID0gZmFsc2UpOiBJU2NoZWR1bGVUaW1lIHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgIGxldCB0b21vcnJvdyA9IG5ldyBEYXRlKHRvZGF5LmdldFRpbWUoKSArICgyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICBpZiAoc3RhcnRGcm9tVG9kYXkpIHtcclxuICAgICAgICB0b21vcnJvdyA9IG5ldyBEYXRlKHRvZGF5LmdldFRpbWUoKSArICg2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaXNSZWN1cnJlbnQ6IGZhbHNlLFxyXG4gICAgICAgIHJlY3VycmVuY2U6IDAsXHJcbiAgICAgICAgaG9saWRheXM6ICcnLFxyXG4gICAgICAgIGV4Y2x1ZGVXZWVrZW5kczogZmFsc2UsXHJcbiAgICAgICAgb3RoZXJEYXlzOiAnJyxcclxuICAgICAgICBjdXN0b21FeHByOiAnJyxcclxuICAgICAgICBzdGFydERhdGU6IHRvbW9ycm93LFxyXG4gICAgICAgIGVuZERhdGU6IG51bGwsXHJcbiAgICAgICAgdGltZTogdG9tb3Jyb3csXHJcbiAgICAgICAgbW9udGhPZlllYXI6IE1vbnRoRW51bS5KYW51YXJ5LFxyXG4gICAgICAgIGRheU9mTW9udGg6IDEsXHJcbiAgICAgICAgZGF5T2ZXZWVrOiBEYXlPZldlZWtFbnVtLk1vbmRheVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxTdHJpbmcobGVmdDogc3RyaW5nLCByaWdodDogc3RyaW5nKSB7XHJcbiAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdCA9PSByaWdodDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzRXF1YWxEYXRlKGxlZnQ6IERhdGUsIHJpZ2h0OiBEYXRlKSB7XHJcbiAgICBpZiAoIWxlZnQgJiYgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWxlZnQgfHwgIXJpZ2h0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWZ0LmdldEZ1bGxZZWFyKCkgPT0gcmlnaHQuZ2V0RnVsbFllYXIoKSAmJlxyXG4gICAgICAgIGxlZnQuZ2V0TW9udGgoKSA9PSByaWdodC5nZXRNb250aCgpICYmXHJcbiAgICAgICAgbGVmdC5nZXREYXRlKCkgPT0gcmlnaHQuZ2V0RGF0ZSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbFRpbWUobGVmdDogRGF0ZSwgcmlnaHQ6IERhdGUpIHtcclxuICAgIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICghbGVmdCB8fCAhcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlZnQuZ2V0SG91cnMoKSA9PSByaWdodC5nZXRIb3VycygpICYmXHJcbiAgICAgICAgbGVmdC5nZXRNaW51dGVzKCkgPT0gcmlnaHQuZ2V0TWludXRlcygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbEJvb2wobGVmdDogYm9vbGVhbiwgcmlnaHQ6IGJvb2xlYW4pIHtcclxuICAgIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGVmdCA9PT0gcmlnaHQ7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbFNjaGVkdWxlVGltZShsZWZ0OiBJU2NoZWR1bGVUaW1lLCByaWdodDogSVNjaGVkdWxlVGltZSkge1xyXG4gICAgaWYgKCFsZWZ0ICYmICFyaWdodCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbGVmdCB8fCAhcmlnaHQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxlZnQuaXNSZWN1cnJlbnQgJiYgcmlnaHQuaXNSZWN1cnJlbnQpIHtcclxuICAgICAgICBpZiAoIWlzRXF1YWxTdHJpbmcobGVmdC5jdXN0b21FeHByLCByaWdodC5jdXN0b21FeHByKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzRXF1YWxTdHJpbmcobGVmdC5ob2xpZGF5cywgcmlnaHQuaG9saWRheXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNFcXVhbEJvb2wobGVmdC5leGNsdWRlV2Vla2VuZHMsIHJpZ2h0LmV4Y2x1ZGVXZWVrZW5kcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFpc0VxdWFsU3RyaW5nKGxlZnQub3RoZXJEYXlzLCByaWdodC5vdGhlckRheXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghaXNFcXVhbERhdGUobGVmdC5lbmREYXRlLCByaWdodC5lbmREYXRlKSB8fCAhaXNFcXVhbFRpbWUobGVmdC5lbmREYXRlLCByaWdodC5lbmREYXRlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWxlZnQuaXNSZWN1cnJlbnQgJiYgIXJpZ2h0LmlzUmVjdXJyZW50KSB7XHJcbiAgICAgICAgaWYgKCFpc0VxdWFsRGF0ZShsZWZ0LnN0YXJ0RGF0ZSwgcmlnaHQuc3RhcnREYXRlKSB8fCAhaXNFcXVhbFRpbWUobGVmdC50aW1lLCByaWdodC50aW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuIl19